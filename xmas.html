<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä¸šæ™ºèƒ½ç›‘æ§ç³»ç»Ÿ | Industrial Dashboard</title>
    <style>
        /* --- 1. å…¨å±€å˜é‡ä¸é‡ç½® --- */
        :root {
            --bg-body: #121212;       /* æœ€æ·±èƒŒæ™¯ */
            --bg-sidebar: #1e1e2e;    /* ä¾§è¾¹æ /å¤´éƒ¨èƒŒæ™¯ */
            --bg-card: #27293d;       /* å¡ç‰‡èƒŒæ™¯ */
            --text-main: #ffffff;
            --text-muted: #aab8c5;
            --color-primary: #1d8cf8; /* è“è‰²å¼ºè°ƒ */
            --color-success: #00f2c3; /* ç»¿è‰²æ­£å¸¸ */
            --color-warning: #ff8d72; /* æ©™è‰²è­¦å‘Š */
            --color-danger: #fd5d93;  /* çº¢è‰²æŠ¥è­¦ */
            --border-color: #2b3553;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            overflow: hidden; /* é˜²æ­¢å‡ºç°åŒæ»šåŠ¨æ¡ */
        }

        /* --- 2. ä¾§è¾¹æ  (Sidebar) --- */
        .sidebar {
            width: 220px;
            background-color: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            padding: 20px 0;
        }
        .logo-area {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 40px;
            color: var(--color-primary);
            letter-spacing: 1px;
        }
        .nav-item {
            padding: 15px 25px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        .nav-item:hover, .nav-item.active {
            background-color: rgba(29, 140, 248, 0.1);
            color: var(--text-main);
            border-left-color: var(--color-primary);
        }

        /* --- 3. ä¸»å†…å®¹åŒº (Main Content) --- */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* å†…å®¹è¿‡å¤šæ—¶æ»šåŠ¨ */
        }

        /* å¤´éƒ¨ Header */
        header {
            height: 60px;
            background-color: var(--bg-sidebar);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
        }
        .sys-status {
            display: flex;
            align-items: center;
            font-size: 14px;
        }
        .status-dot {
            width: 10px;
            height: 10px;
            background-color: var(--color-success);
            border-radius: 50%;
            margin-right: 8px;
            box-shadow: 0 0 10px var(--color-success); /* è§å…‰æ•ˆæœ */
        }
        .user-info {
            font-size: 14px;
            color: var(--text-muted);
            font-family: monospace; /* é€‚åˆæ˜¾ç¤ºæ—¶é—´ */
        }

        /* ä»ªè¡¨ç›˜ç½‘æ ¼å¸ƒå±€ Dashboard Grid */
        .dashboard-container {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4åˆ— */
            grid-template-rows: 120px 350px 1fr;   /* 3è¡Œé«˜åº¦å®šä¹‰ */
            gap: 20px;
            height: calc(100vh - 60px);
        }

        /* é€šç”¨å¡ç‰‡æ ·å¼ */
        .card {
            background-color: var(--bg-card);
            border-radius: 4px;
            padding: 20px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .card-title {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        /* ç¬¬ä¸€è¡Œï¼šKPI æŒ‡æ ‡ */
        .kpi-card {
            grid-column: span 1; /* å 1åˆ— */
            justify-content: space-between;
        }
        .kpi-value {
            font-size: 32px;
            font-weight: bold;
            font-family: 'Courier New', monospace; /* ç­‰å®½å­—ä½“æ–¹ä¾¿è¯»æ•° */
        }
        .kpi-unit {
            font-size: 14px;
            color: var(--text-muted);
            margin-left: 5px;
        }
        .trend {
            font-size: 12px;
            display: flex;
            align-items: center;
        }
        .trend.up { color: var(--color-success); }
        .trend.down { color: var(--color-danger); }

        /* ç¬¬äºŒè¡Œï¼šæ ¸å¿ƒå¯è§†åŒ– + è¶‹åŠ¿å›¾ */
        .visual-section {
            grid-column: span 3; /* å å·¦è¾¹3åˆ— */
            position: relative;
            background-image: radial-gradient(var(--border-color) 1px, transparent 1px);
            background-size: 20px 20px; /* æ¨¡æ‹Ÿç½‘æ ¼èƒŒæ™¯ */
        }
        .chart-section {
            grid-column: span 1; /* å å³è¾¹1åˆ— */
        }

        /* æ¨¡æ‹Ÿè®¾å¤‡æ‹“æ‰‘å›¾ä¸­çš„æ•°æ®ç‚¹ */
        .device-node {
            position: absolute;
            background: rgba(30, 30, 46, 0.9);
            border: 1px solid var(--color-primary);
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            min-width: 120px;
        }
        /* ç®€å•çš„å®šä½æ¨¡æ‹Ÿ */
        .node-1 { top: 30%; left: 20%; }
        .node-2 { top: 50%; left: 60%; }
        .node-line {
            position: absolute;
            top: 45%; left: 25%;
            width: 300px; height: 2px;
            background: linear-gradient(90deg, var(--color-primary), transparent);
        }

        /* ç¬¬ä¸‰è¡Œï¼šæŠ¥è­¦åˆ—è¡¨ */
        .alarm-section {
            grid-column: span 4; /* å æ»¡æ•´è¡Œ */
            overflow: hidden;
        }
        
        /* è¡¨æ ¼æ ·å¼ */
        .alarm-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .alarm-table th {
            text-align: left;
            padding: 10px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border-color);
        }
        .alarm-table td {
            padding: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .tag {
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 12px;
        }
        .tag-danger { background: rgba(253, 93, 147, 0.2); color: var(--color-danger); }
        .tag-warn { background: rgba(255, 141, 114, 0.2); color: var(--color-warning); }

    </style>
</head>
<body>

    <nav class="sidebar">
        <div class="logo-area">IMS V2.0</div>
        <div class="nav-item active">ğŸ“Š æ€»è§ˆ Dashboard</div>
        <div class="nav-item">ğŸ­ è®¾å¤‡ç›‘æ§ Monitor</div>
        <div class="nav-item">ğŸ“‘ ç”Ÿäº§æŠ¥è¡¨ Report</div>
        <div class="nav-item">ğŸš¨ æŠ¥è­¦è®°å½• Alarm</div>
        <div class="nav-item">âš™ï¸ ç³»ç»Ÿè®¾ç½® Config</div>
    </nav>

    <main class="main-content">
        <header>
            <div class="sys-status">
                <div class="status-dot"></div>
                <span>ç³»ç»Ÿè¿è¡Œæ­£å¸¸ | é€šè®¯å»¶è¿Ÿ: 12ms</span>
            </div>
            <div class="user-info">
                Operator: Admin | <span id="clock">12:00:00</span>
            </div>
        </header>

        <div class="dashboard-container">
            
            <div class="card kpi-card">
                <div class="card-title">ä»Šæ—¥äº§é‡ (Output)</div>
                <div class="kpi-value" id="val-output">12,450</div>
                <div class="trend up">â–² 5.2% åŒæ¯”å¢é•¿</div>
            </div>
            <div class="card kpi-card">
                <div class="card-title">è®¾å¤‡ç»¼åˆæ•ˆç‡ (OEE)</div>
                <div class="kpi-value" style="color: var(--color-success)">92.5<span class="kpi-unit">%</span></div>
                <div class="trend">è¿è¡Œå¹³ç¨³</div>
            </div>
            <div class="card kpi-card">
                <div class="card-title">æ€»èƒ½è€— (Energy)</div>
                <div class="kpi-value">482<span class="kpi-unit">kWh</span></div>
                <div class="trend down">â–¼ 1.2% èŠ‚èƒ½ä¼˜åŒ–</div>
            </div>
            <div class="card kpi-card">
                <div class="card-title">å¾…å¤„ç†æŠ¥è­¦ (Alerts)</div>
                <div class="kpi-value" style="color: var(--color-danger)">3</div>
                <div class="trend">éœ€ç«‹å³å¤„ç†</div>
            </div>

            <div class="card visual-section">
                <div class="card-title">äº§çº¿å®æ—¶æ‹“æ‰‘ (Digital Twin Mockup)</div>
                <div class="node-line"></div>
                <div class="device-node node-1">
                    <div style="color:var(--color-primary); margin-bottom:5px;">ğŸ”µ æ³¨å¡‘æœº A01</div>
                    <div>æ¸©åº¦: <span id="val-temp" style="font-weight:bold; color:#fff;">145</span> Â°C</div>
                    <div>å‹åŠ›: 12.5 MPa</div>
                </div>
                <div class="device-node node-2">
                    <div style="color:var(--color-success); margin-bottom:5px;">ğŸŸ¢ ä¼ é€å¸¦ M02</div>
                    <div>é€Ÿåº¦: 2.5 m/s</div>
                    <div>è®¡æ•°: 4500 pcs</div>
                </div>
            </div>

            <div class="card chart-section">
                <div class="card-title">ä¸»è½´è´Ÿè·è¶‹åŠ¿ (Load)</div>
                <div style="display:flex; align-items:flex-end; height:100%; justify-content:space-between; padding-top:20px;">
                    <div style="width:15%; background:var(--color-primary); height:40%; opacity:0.5"></div>
                    <div style="width:15%; background:var(--color-primary); height:60%; opacity:0.7"></div>
                    <div style="width:15%; background:var(--color-primary); height:80%;"></div>
                    <div style="width:15%; background:var(--color-danger); height:95%;"></div> <div style="width:15%; background:var(--color-primary); height:50%;"></div>
                </div>
            </div>

            <div class="card alarm-section">
                <div class="card-title">å®æ—¶æŠ¥è­¦åˆ—è¡¨ (Live Alarms)</div>
                <table class="alarm-table">
                    <thead>
                        <tr>
                            <th>æ—¶é—´</th>
                            <th>çº§åˆ«</th>
                            <th>è®¾å¤‡</th>
                            <th>æŠ¥è­¦å†…å®¹</th>
                            <th>çŠ¶æ€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>10:45:22</td>
                            <td><span class="tag tag-danger">é«˜å±</span></td>
                            <td>æ³¨å¡‘æœº A01</td>
                            <td>æ¶²å‹æ²¹æ¸©è¿‡é«˜ (>65Â°C)</td>
                            <td>æœªç¡®è®¤</td>
                        </tr>
                        <tr>
                            <td>10:42:10</td>
                            <td><span class="tag tag-warn">è­¦å‘Š</span></td>
                            <td>æœºæ¢°è‡‚ R03</td>
                            <td>æŠ“å–åŠ¨ä½œè¶…æ—¶</td>
                            <td>è‡ªåŠ¨å¤ä½</td>
                        </tr>
                        <tr>
                            <td>09:30:05</td>
                            <td><span class="tag tag-warn">è­¦å‘Š</span></td>
                            <td>ç½‘ç»œæ¨¡å—</td>
                            <td>é€šè®¯ä¸¢åŒ…ç‡ä¸Šå‡</td>
                            <td>å·²æ¢å¤</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </main>

    <script>
        // --- ç®€å•çš„åŠ¨æ€æ•ˆæœæ¨¡æ‹Ÿ ---

        // 1. æ›´æ–°æ—¶é’Ÿ
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('zh-CN', { hour12: false });
            document.getElementById('clock').innerText = timeString;
        }
        setInterval(updateTime, 1000);
        updateTime();

        // 2. æ¨¡æ‹Ÿæ•°æ®è·³åŠ¨ (è®©ç•Œé¢çœ‹èµ·æ¥æ˜¯æ´»çš„)
        function simulateData() {
            // æ¨¡æ‹Ÿæ¸©åº¦æ³¢åŠ¨
            const tempEl = document.getElementById('val-temp');
            let currentTemp = parseFloat(tempEl.innerText);
            // éšæœºåŠ å‡ 0.5
            let change = (Math.random() - 0.5); 
            let newTemp = (currentTemp + change).toFixed(1);
            tempEl.innerText = newTemp;

            // ç®€å•çš„é¢œè‰²è­¦å‘Šé€»è¾‘
            if(newTemp > 146) {
                tempEl.style.color = 'var(--color-danger)';
            } else {
                tempEl.style.color = '#fff';
            }

            // æ¨¡æ‹Ÿäº§é‡å¢åŠ 
            const outEl = document.getElementById('val-output');
            // 30% æ¦‚ç‡å¢åŠ  1
            if(Math.random() > 0.7) {
                let currentOut = parseInt(outEl.innerText.replace(',', ''));
                outEl.innerText = (currentOut + 1).toLocaleString();
            }
        }
        
        // æ¯ 2 ç§’åˆ·æ–°ä¸€æ¬¡æ¨¡æ‹Ÿæ•°æ®
        setInterval(simulateData, 2000);
    </script>
</body>
</html>
